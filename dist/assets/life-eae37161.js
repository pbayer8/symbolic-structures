var Hr=Object.defineProperty;var Qr=(r,e,n)=>e in r?Hr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var rr=(r,e,n)=>(Qr(r,typeof e!="symbol"?e+"":e,n),n);import{g as de,r as Yr,a as I,b as K,c as tr,d as Kr}from"./utils-59f65cc7.js";import{A as Xr,D,r as Jr,P as Zr,B as he}from"./refresh-button-01dfc476.js";import{g as Vr}from"./_commonjsHelpers-edff4021.js";import"./lil-gui.esm-b4f18ba3.js";import"./swissgl-a59cd27d.js";var et={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const ce=et,Or={};for(const r of Object.keys(ce))Or[ce[r]]=r;const d={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var xr=d;for(const r of Object.keys(d)){if(!("channels"in d[r]))throw new Error("missing channels property: "+r);if(!("labels"in d[r]))throw new Error("missing channel labels property: "+r);if(d[r].labels.length!==d[r].channels)throw new Error("channel and label counts mismatch: "+r);const{channels:e,labels:n}=d[r];delete d[r].channels,delete d[r].labels,Object.defineProperty(d[r],"channels",{value:e}),Object.defineProperty(d[r],"labels",{value:n})}d.rgb.hsl=function(r){const e=r[0]/255,n=r[1]/255,t=r[2]/255,o=Math.min(e,n,t),a=Math.max(e,n,t),i=a-o;let c,l;a===o?c=0:e===a?c=(n-t)/i:n===a?c=2+(t-e)/i:t===a&&(c=4+(e-n)/i),c=Math.min(c*60,360),c<0&&(c+=360);const s=(o+a)/2;return a===o?l=0:s<=.5?l=i/(a+o):l=i/(2-a-o),[c,l*100,s*100]};d.rgb.hsv=function(r){let e,n,t,o,a;const i=r[0]/255,c=r[1]/255,l=r[2]/255,s=Math.max(i,c,l),f=s-Math.min(i,c,l),u=function(p){return(s-p)/6/f+1/2};return f===0?(o=0,a=0):(a=f/s,e=u(i),n=u(c),t=u(l),i===s?o=t-n:c===s?o=1/3+e-t:l===s&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[o*360,a*100,s*100]};d.rgb.hwb=function(r){const e=r[0],n=r[1];let t=r[2];const o=d.rgb.hsl(r)[0],a=1/255*Math.min(e,Math.min(n,t));return t=1-1/255*Math.max(e,Math.max(n,t)),[o,a*100,t*100]};d.rgb.cmyk=function(r){const e=r[0]/255,n=r[1]/255,t=r[2]/255,o=Math.min(1-e,1-n,1-t),a=(1-e-o)/(1-o)||0,i=(1-n-o)/(1-o)||0,c=(1-t-o)/(1-o)||0;return[a*100,i*100,c*100,o*100]};function rt(r,e){return(r[0]-e[0])**2+(r[1]-e[1])**2+(r[2]-e[2])**2}d.rgb.keyword=function(r){const e=Or[r];if(e)return e;let n=1/0,t;for(const o of Object.keys(ce)){const a=ce[o],i=rt(r,a);i<n&&(n=i,t=o)}return t};d.keyword.rgb=function(r){return ce[r]};d.rgb.xyz=function(r){let e=r[0]/255,n=r[1]/255,t=r[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92;const o=e*.4124+n*.3576+t*.1805,a=e*.2126+n*.7152+t*.0722,i=e*.0193+n*.1192+t*.9505;return[o*100,a*100,i*100]};d.rgb.lab=function(r){const e=d.rgb.xyz(r);let n=e[0],t=e[1],o=e[2];n/=95.047,t/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;const a=116*t-16,i=500*(n-t),c=200*(t-o);return[a,i,c]};d.hsl.rgb=function(r){const e=r[0]/360,n=r[1]/100,t=r[2]/100;let o,a,i;if(n===0)return i=t*255,[i,i,i];t<.5?o=t*(1+n):o=t+n-t*n;const c=2*t-o,l=[0,0,0];for(let s=0;s<3;s++)a=e+1/3*-(s-1),a<0&&a++,a>1&&a--,6*a<1?i=c+(o-c)*6*a:2*a<1?i=o:3*a<2?i=c+(o-c)*(2/3-a)*6:i=c,l[s]=i*255;return l};d.hsl.hsv=function(r){const e=r[0];let n=r[1]/100,t=r[2]/100,o=n;const a=Math.max(t,.01);t*=2,n*=t<=1?t:2-t,o*=a<=1?a:2-a;const i=(t+n)/2,c=t===0?2*o/(a+o):2*n/(t+n);return[e,c*100,i*100]};d.hsv.rgb=function(r){const e=r[0]/60,n=r[1]/100;let t=r[2]/100;const o=Math.floor(e)%6,a=e-Math.floor(e),i=255*t*(1-n),c=255*t*(1-n*a),l=255*t*(1-n*(1-a));switch(t*=255,o){case 0:return[t,l,i];case 1:return[c,t,i];case 2:return[i,t,l];case 3:return[i,c,t];case 4:return[l,i,t];case 5:return[t,i,c]}};d.hsv.hsl=function(r){const e=r[0],n=r[1]/100,t=r[2]/100,o=Math.max(t,.01);let a,i;i=(2-n)*t;const c=(2-n)*o;return a=n*o,a/=c<=1?c:2-c,a=a||0,i/=2,[e,a*100,i*100]};d.hwb.rgb=function(r){const e=r[0]/360;let n=r[1]/100,t=r[2]/100;const o=n+t;let a;o>1&&(n/=o,t/=o);const i=Math.floor(6*e),c=1-t;a=6*e-i,i&1&&(a=1-a);const l=n+a*(c-n);let s,f,u;switch(i){default:case 6:case 0:s=c,f=l,u=n;break;case 1:s=l,f=c,u=n;break;case 2:s=n,f=c,u=l;break;case 3:s=n,f=l,u=c;break;case 4:s=l,f=n,u=c;break;case 5:s=c,f=n,u=l;break}return[s*255,f*255,u*255]};d.cmyk.rgb=function(r){const e=r[0]/100,n=r[1]/100,t=r[2]/100,o=r[3]/100,a=1-Math.min(1,e*(1-o)+o),i=1-Math.min(1,n*(1-o)+o),c=1-Math.min(1,t*(1-o)+o);return[a*255,i*255,c*255]};d.xyz.rgb=function(r){const e=r[0]/100,n=r[1]/100,t=r[2]/100;let o,a,i;return o=e*3.2406+n*-1.5372+t*-.4986,a=e*-.9689+n*1.8758+t*.0415,i=e*.0557+n*-.204+t*1.057,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),[o*255,a*255,i*255]};d.xyz.lab=function(r){let e=r[0],n=r[1],t=r[2];e/=95.047,n/=100,t/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,t=t>.008856?t**(1/3):7.787*t+16/116;const o=116*n-16,a=500*(e-n),i=200*(n-t);return[o,a,i]};d.lab.xyz=function(r){const e=r[0],n=r[1],t=r[2];let o,a,i;a=(e+16)/116,o=n/500+a,i=a-t/200;const c=a**3,l=o**3,s=i**3;return a=c>.008856?c:(a-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,o*=95.047,a*=100,i*=108.883,[o,a,i]};d.lab.lch=function(r){const e=r[0],n=r[1],t=r[2];let o;o=Math.atan2(t,n)*360/2/Math.PI,o<0&&(o+=360);const i=Math.sqrt(n*n+t*t);return[e,i,o]};d.lch.lab=function(r){const e=r[0],n=r[1],o=r[2]/360*2*Math.PI,a=n*Math.cos(o),i=n*Math.sin(o);return[e,a,i]};d.rgb.ansi16=function(r,e=null){const[n,t,o]=r;let a=e===null?d.rgb.hsv(r)[2]:e;if(a=Math.round(a/50),a===0)return 30;let i=30+(Math.round(o/255)<<2|Math.round(t/255)<<1|Math.round(n/255));return a===2&&(i+=60),i};d.hsv.ansi16=function(r){return d.rgb.ansi16(d.hsv.rgb(r),r[2])};d.rgb.ansi256=function(r){const e=r[0],n=r[1],t=r[2];return e===n&&n===t?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(t/255*5)};d.ansi16.rgb=function(r){let e=r%10;if(e===0||e===7)return r>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(~~(r>50)+1)*.5,t=(e&1)*n*255,o=(e>>1&1)*n*255,a=(e>>2&1)*n*255;return[t,o,a]};d.ansi256.rgb=function(r){if(r>=232){const a=(r-232)*10+8;return[a,a,a]}r-=16;let e;const n=Math.floor(r/36)/5*255,t=Math.floor((e=r%36)/6)/5*255,o=e%6/5*255;return[n,t,o]};d.rgb.hex=function(r){const n=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};d.hex.rgb=function(r){const e=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(c=>c+c).join(""));const t=parseInt(n,16),o=t>>16&255,a=t>>8&255,i=t&255;return[o,a,i]};d.rgb.hcg=function(r){const e=r[0]/255,n=r[1]/255,t=r[2]/255,o=Math.max(Math.max(e,n),t),a=Math.min(Math.min(e,n),t),i=o-a;let c,l;return i<1?c=a/(1-i):c=0,i<=0?l=0:o===e?l=(n-t)/i%6:o===n?l=2+(t-e)/i:l=4+(e-n)/i,l/=6,l%=1,[l*360,i*100,c*100]};d.hsl.hcg=function(r){const e=r[1]/100,n=r[2]/100,t=n<.5?2*e*n:2*e*(1-n);let o=0;return t<1&&(o=(n-.5*t)/(1-t)),[r[0],t*100,o*100]};d.hsv.hcg=function(r){const e=r[1]/100,n=r[2]/100,t=e*n;let o=0;return t<1&&(o=(n-t)/(1-t)),[r[0],t*100,o*100]};d.hcg.rgb=function(r){const e=r[0]/360,n=r[1]/100,t=r[2]/100;if(n===0)return[t*255,t*255,t*255];const o=[0,0,0],a=e%1*6,i=a%1,c=1-i;let l=0;switch(Math.floor(a)){case 0:o[0]=1,o[1]=i,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=i;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=i,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return l=(1-n)*t,[(n*o[0]+l)*255,(n*o[1]+l)*255,(n*o[2]+l)*255]};d.hcg.hsv=function(r){const e=r[1]/100,n=r[2]/100,t=e+n*(1-e);let o=0;return t>0&&(o=e/t),[r[0],o*100,t*100]};d.hcg.hsl=function(r){const e=r[1]/100,t=r[2]/100*(1-e)+.5*e;let o=0;return t>0&&t<.5?o=e/(2*t):t>=.5&&t<1&&(o=e/(2*(1-t))),[r[0],o*100,t*100]};d.hcg.hwb=function(r){const e=r[1]/100,n=r[2]/100,t=e+n*(1-e);return[r[0],(t-e)*100,(1-t)*100]};d.hwb.hcg=function(r){const e=r[1]/100,t=1-r[2]/100,o=t-e;let a=0;return o<1&&(a=(t-o)/(1-o)),[r[0],o*100,a*100]};d.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};d.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};d.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};d.gray.hsl=function(r){return[0,0,r[0]]};d.gray.hsv=d.gray.hsl;d.gray.hwb=function(r){return[0,100,r[0]]};d.gray.cmyk=function(r){return[0,0,0,r[0]]};d.gray.lab=function(r){return[r[0],0,0]};d.gray.hex=function(r){const e=Math.round(r[0]/100*255)&255,t=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(t.length)+t};d.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]};const ge=xr;function tt(){const r={},e=Object.keys(ge);for(let n=e.length,t=0;t<n;t++)r[e[t]]={distance:-1,parent:null};return r}function nt(r){const e=tt(),n=[r];for(e[r].distance=0;n.length;){const t=n.pop(),o=Object.keys(ge[t]);for(let a=o.length,i=0;i<a;i++){const c=o[i],l=e[c];l.distance===-1&&(l.distance=e[t].distance+1,l.parent=t,n.unshift(c))}}return e}function ot(r,e){return function(n){return e(r(n))}}function at(r,e){const n=[e[r].parent,r];let t=ge[e[r].parent][r],o=e[r].parent;for(;e[o].parent;)n.unshift(e[o].parent),t=ot(ge[e[o].parent][o],t),o=e[o].parent;return t.conversion=n,t}var it=function(r){const e=nt(r),n={},t=Object.keys(e);for(let o=t.length,a=0;a<o;a++){const i=t[a];e[i].parent!==null&&(n[i]=at(i,e))}return n};const Be=xr,lt=it,X={},ct=Object.keys(Be);function st(r){const e=function(...n){const t=n[0];return t==null?t:(t.length>1&&(n=t),r(n))};return"conversion"in r&&(e.conversion=r.conversion),e}function ft(r){const e=function(...n){const t=n[0];if(t==null)return t;t.length>1&&(n=t);const o=r(n);if(typeof o=="object")for(let a=o.length,i=0;i<a;i++)o[i]=Math.round(o[i]);return o};return"conversion"in r&&(e.conversion=r.conversion),e}ct.forEach(r=>{X[r]={},Object.defineProperty(X[r],"channels",{value:Be[r].channels}),Object.defineProperty(X[r],"labels",{value:Be[r].labels});const e=lt(r);Object.keys(e).forEach(t=>{const o=e[t];X[r][t]=ft(o),X[r][t].raw=st(o)})});var ut=X,Ce={},pt={get exports(){return Ce},set exports(r){Ce=r}};(function(r){var e=function(){var n=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function i(l,s){if(!a[l]){a[l]={};for(var f=0;f<l.length;f++)a[l][l.charAt(f)]=f}return a[l][s]}var c={compressToBase64:function(l){if(l==null)return"";var s=c._compress(l,6,function(f){return t.charAt(f)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:c._decompress(l.length,32,function(s){return i(t,l.charAt(s))})},compressToUTF16:function(l){return l==null?"":c._compress(l,15,function(s){return n(s+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:c._decompress(l.length,16384,function(s){return l.charCodeAt(s)-32})},compressToUint8Array:function(l){for(var s=c.compress(l),f=new Uint8Array(s.length*2),u=0,p=s.length;u<p;u++){var g=s.charCodeAt(u);f[u*2]=g>>>8,f[u*2+1]=g%256}return f},decompressFromUint8Array:function(l){if(l==null)return c.decompress(l);for(var s=new Array(l.length/2),f=0,u=s.length;f<u;f++)s[f]=l[f*2]*256+l[f*2+1];var p=[];return s.forEach(function(g){p.push(n(g))}),c.decompress(p.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":c._compress(l,6,function(s){return o.charAt(s)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),c._decompress(l.length,32,function(s){return i(o,l.charAt(s))}))},compress:function(l){return c._compress(l,16,function(s){return n(s)})},_compress:function(l,s,f){if(l==null)return"";var u,p,g={},b={},E="",P="",m="",x=2,O=3,w=2,A=[],y=0,v=0,h;for(h=0;h<l.length;h+=1)if(E=l.charAt(h),Object.prototype.hasOwnProperty.call(g,E)||(g[E]=O++,b[E]=!0),P=m+E,Object.prototype.hasOwnProperty.call(g,P))m=P;else{if(Object.prototype.hasOwnProperty.call(b,m)){if(m.charCodeAt(0)<256){for(u=0;u<w;u++)y=y<<1,v==s-1?(v=0,A.push(f(y)),y=0):v++;for(p=m.charCodeAt(0),u=0;u<8;u++)y=y<<1|p&1,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=p>>1}else{for(p=1,u=0;u<w;u++)y=y<<1|p,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=0;for(p=m.charCodeAt(0),u=0;u<16;u++)y=y<<1|p&1,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=p>>1}x--,x==0&&(x=Math.pow(2,w),w++),delete b[m]}else for(p=g[m],u=0;u<w;u++)y=y<<1|p&1,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=p>>1;x--,x==0&&(x=Math.pow(2,w),w++),g[P]=O++,m=String(E)}if(m!==""){if(Object.prototype.hasOwnProperty.call(b,m)){if(m.charCodeAt(0)<256){for(u=0;u<w;u++)y=y<<1,v==s-1?(v=0,A.push(f(y)),y=0):v++;for(p=m.charCodeAt(0),u=0;u<8;u++)y=y<<1|p&1,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=p>>1}else{for(p=1,u=0;u<w;u++)y=y<<1|p,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=0;for(p=m.charCodeAt(0),u=0;u<16;u++)y=y<<1|p&1,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=p>>1}x--,x==0&&(x=Math.pow(2,w),w++),delete b[m]}else for(p=g[m],u=0;u<w;u++)y=y<<1|p&1,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=p>>1;x--,x==0&&(x=Math.pow(2,w),w++)}for(p=2,u=0;u<w;u++)y=y<<1|p&1,v==s-1?(v=0,A.push(f(y)),y=0):v++,p=p>>1;for(;;)if(y=y<<1,v==s-1){A.push(f(y));break}else v++;return A.join("")},decompress:function(l){return l==null?"":l==""?null:c._decompress(l.length,32768,function(s){return l.charCodeAt(s)})},_decompress:function(l,s,f){var u=[],p=4,g=4,b=3,E="",P=[],m,x,O,w,A,y,v,h={val:f(0),position:s,index:1};for(m=0;m<3;m+=1)u[m]=m;for(O=0,A=Math.pow(2,2),y=1;y!=A;)w=h.val&h.position,h.position>>=1,h.position==0&&(h.position=s,h.val=f(h.index++)),O|=(w>0?1:0)*y,y<<=1;switch(O){case 0:for(O=0,A=Math.pow(2,8),y=1;y!=A;)w=h.val&h.position,h.position>>=1,h.position==0&&(h.position=s,h.val=f(h.index++)),O|=(w>0?1:0)*y,y<<=1;v=n(O);break;case 1:for(O=0,A=Math.pow(2,16),y=1;y!=A;)w=h.val&h.position,h.position>>=1,h.position==0&&(h.position=s,h.val=f(h.index++)),O|=(w>0?1:0)*y,y<<=1;v=n(O);break;case 2:return""}for(u[3]=v,x=v,P.push(v);;){if(h.index>l)return"";for(O=0,A=Math.pow(2,b),y=1;y!=A;)w=h.val&h.position,h.position>>=1,h.position==0&&(h.position=s,h.val=f(h.index++)),O|=(w>0?1:0)*y,y<<=1;switch(v=O){case 0:for(O=0,A=Math.pow(2,8),y=1;y!=A;)w=h.val&h.position,h.position>>=1,h.position==0&&(h.position=s,h.val=f(h.index++)),O|=(w>0?1:0)*y,y<<=1;u[g++]=n(O),v=g-1,p--;break;case 1:for(O=0,A=Math.pow(2,16),y=1;y!=A;)w=h.val&h.position,h.position>>=1,h.position==0&&(h.position=s,h.val=f(h.index++)),O|=(w>0?1:0)*y,y<<=1;u[g++]=n(O),v=g-1,p--;break;case 2:return P.join("")}if(p==0&&(p=Math.pow(2,b),b++),u[v])E=u[v];else if(v===g)E=x+x.charAt(0);else return null;P.push(E),u[g++]=x+E.charAt(0),p--,x=E,p==0&&(p=Math.pow(2,b),b++)}}};return c}();r!=null?r.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(pt);const Er=Ce;var yt=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),t=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,n);if(i.value!==o||i.enumerable!==!0)return!1}return!0},nr=typeof Symbol<"u"&&Symbol,dt=yt,ht=function(){return typeof nr!="function"||typeof Symbol!="function"||typeof nr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:dt()},or={foo:{}},vt=Object,mt=function(){return{__proto__:or}.foo===or.foo&&!({__proto__:null}instanceof vt)},gt="Function.prototype.bind called on incompatible ",Pe=Array.prototype.slice,bt=Object.prototype.toString,St="[object Function]",wt=function(e){var n=this;if(typeof n!="function"||bt.call(n)!==St)throw new TypeError(gt+n);for(var t=Pe.call(arguments,1),o,a=function(){if(this instanceof o){var f=n.apply(this,t.concat(Pe.call(arguments)));return Object(f)===f?f:this}else return n.apply(e,t.concat(Pe.call(arguments)))},i=Math.max(0,n.length-t.length),c=[],l=0;l<i;l++)c.push("$"+l);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(a),n.prototype){var s=function(){};s.prototype=n.prototype,o.prototype=new s,s.prototype=null}return o},At=wt,Qe=Function.prototype.bind||At,Ot=Qe,xt=Ot.call(Function.call,Object.prototype.hasOwnProperty),S,V=SyntaxError,Pr=Function,Z=TypeError,Me=function(r){try{return Pr('"use strict"; return ('+r+").constructor;")()}catch{}},W=Object.getOwnPropertyDescriptor;if(W)try{W({},"")}catch{W=null}var Fe=function(){throw new Z},Et=W?function(){try{return arguments.callee,Fe}catch{try{return W(arguments,"callee").get}catch{return Fe}}}():Fe,Y=ht(),Pt=mt(),F=Object.getPrototypeOf||(Pt?function(r){return r.__proto__}:null),J={},Mt=typeof Uint8Array>"u"||!F?S:F(Uint8Array),j={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Y&&F?F([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":J,"%AsyncGenerator%":J,"%AsyncGeneratorFunction%":J,"%AsyncIteratorPrototype%":J,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Pr,"%GeneratorFunction%":J,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Y&&F?F(F([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Y||!F?S:F(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Y||!F?S:F(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Y&&F?F(""[Symbol.iterator]()):S,"%Symbol%":Y?Symbol:S,"%SyntaxError%":V,"%ThrowTypeError%":Et,"%TypedArray%":Mt,"%TypeError%":Z,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(F)try{null.error}catch(r){var Ft=F(F(r));j["%Error.prototype%"]=Ft}var It=function r(e){var n;if(e==="%AsyncFunction%")n=Me("async function () {}");else if(e==="%GeneratorFunction%")n=Me("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Me("async function* () {}");else if(e==="%AsyncGenerator%"){var t=r("%AsyncGeneratorFunction%");t&&(n=t.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=r("%AsyncGenerator%");o&&F&&(n=F(o.prototype))}return j[e]=n,n},ar={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},se=Qe,be=xt,Rt=se.call(Function.call,Array.prototype.concat),$t=se.call(Function.apply,Array.prototype.splice),ir=se.call(Function.call,String.prototype.replace),Se=se.call(Function.call,String.prototype.slice),kt=se.call(Function.call,RegExp.prototype.exec),_t=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Nt=/\\(\\)?/g,Tt=function(e){var n=Se(e,0,1),t=Se(e,-1);if(n==="%"&&t!=="%")throw new V("invalid intrinsic syntax, expected closing `%`");if(t==="%"&&n!=="%")throw new V("invalid intrinsic syntax, expected opening `%`");var o=[];return ir(e,_t,function(a,i,c,l){o[o.length]=c?ir(l,Nt,"$1"):i||a}),o},Dt=function(e,n){var t=e,o;if(be(ar,t)&&(o=ar[t],t="%"+o[0]+"%"),be(j,t)){var a=j[t];if(a===J&&(a=It(t)),typeof a>"u"&&!n)throw new Z("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:t,value:a}}throw new V("intrinsic "+e+" does not exist!")},Ye=function(e,n){if(typeof e!="string"||e.length===0)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Z('"allowMissing" argument must be a boolean');if(kt(/^%?[^%]*%?$/,e)===null)throw new V("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var t=Tt(e),o=t.length>0?t[0]:"",a=Dt("%"+o+"%",n),i=a.name,c=a.value,l=!1,s=a.alias;s&&(o=s[0],$t(t,Rt([0,1],s)));for(var f=1,u=!0;f<t.length;f+=1){var p=t[f],g=Se(p,0,1),b=Se(p,-1);if((g==='"'||g==="'"||g==="`"||b==='"'||b==="'"||b==="`")&&g!==b)throw new V("property names with quotes must have matching quotes");if((p==="constructor"||!u)&&(l=!0),o+="."+p,i="%"+o+"%",be(j,i))c=j[i];else if(c!=null){if(!(p in c)){if(!n)throw new Z("base intrinsic for "+e+" exists, but the property is not available.");return}if(W&&f+1>=t.length){var E=W(c,p);u=!!E,u&&"get"in E&&!("originalValue"in E.get)?c=E.get:c=c[p]}else u=be(c,p),c=c[p];u&&!l&&(j[i]=c)}}return c},Ue={},Bt={get exports(){return Ue},set exports(r){Ue=r}};(function(r){var e=Qe,n=Ye,t=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(o,t),i=n("%Object.getOwnPropertyDescriptor%",!0),c=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}r.exports=function(u){var p=a(e,o,arguments);if(i&&c){var g=i(p,"length");g.configurable&&c(p,"length",{value:1+l(0,u.length-(arguments.length-1))})}return p};var s=function(){return a(e,t,arguments)};c?c(r.exports,"apply",{value:s}):r.exports.apply=s})(Bt);var Mr=Ye,Fr=Ue,Ct=Fr(Mr("String.prototype.indexOf")),Ut=function(e,n){var t=Mr(e,!!n);return typeof t=="function"&&Ct(e,".prototype.")>-1?Fr(t):t};const Lt={},zt=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"})),Wt=Vr(zt);var Ke=typeof Map=="function"&&Map.prototype,Ie=Object.getOwnPropertyDescriptor&&Ke?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,we=Ke&&Ie&&typeof Ie.get=="function"?Ie.get:null,lr=Ke&&Map.prototype.forEach,Xe=typeof Set=="function"&&Set.prototype,Re=Object.getOwnPropertyDescriptor&&Xe?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ae=Xe&&Re&&typeof Re.get=="function"?Re.get:null,cr=Xe&&Set.prototype.forEach,jt=typeof WeakMap=="function"&&WeakMap.prototype,ae=jt?WeakMap.prototype.has:null,Gt=typeof WeakSet=="function"&&WeakSet.prototype,ie=Gt?WeakSet.prototype.has:null,qt=typeof WeakRef=="function"&&WeakRef.prototype,sr=qt?WeakRef.prototype.deref:null,Ht=Boolean.prototype.valueOf,Qt=Object.prototype.toString,Yt=Function.prototype.toString,Kt=String.prototype.match,Je=String.prototype.slice,U=String.prototype.replace,Xt=String.prototype.toUpperCase,fr=String.prototype.toLowerCase,Ir=RegExp.prototype.test,ur=Array.prototype.concat,N=Array.prototype.join,Jt=Array.prototype.slice,pr=Math.floor,Le=typeof BigInt=="function"?BigInt.prototype.valueOf:null,$e=Object.getOwnPropertySymbols,ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ee=typeof Symbol=="function"&&typeof Symbol.iterator=="object",$=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ee||"symbol")?Symbol.toStringTag:null,Rr=Object.prototype.propertyIsEnumerable,yr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function dr(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Ir.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var t=r<0?-pr(-r):pr(r);if(t!==r){var o=String(t),a=Je.call(e,o.length+1);return U.call(o,n,"$&_")+"."+U.call(U.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return U.call(e,n,"$&_")}var We=Wt,hr=We.custom,vr=kr(hr)?hr:null,Zt=function r(e,n,t,o){var a=n||{};if(C(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(C(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=C(a,"customInspect")?a.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(C(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(C(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Nr(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return c?dr(e,l):l}if(typeof e=="bigint"){var s=String(e)+"n";return c?dr(e,s):s}var f=typeof a.depth>"u"?5:a.depth;if(typeof t>"u"&&(t=0),t>=f&&f>0&&typeof e=="object")return je(e)?"[Array]":"[Object]";var u=mn(a,t);if(typeof o>"u")o=[];else if(_r(o,e)>=0)return"[Circular]";function p(T,H,fe){if(H&&(o=Jt.call(o),o.push(H)),fe){var Q={depth:a.depth};return C(a,"quoteStyle")&&(Q.quoteStyle=a.quoteStyle),r(T,Q,t+1,o)}return r(T,a,t+1,o)}if(typeof e=="function"&&!mr(e)){var g=cn(e),b=ue(e,p);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(b.length>0?" { "+N.call(b,", ")+" }":"")}if(kr(e)){var E=ee?U.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ze.call(e);return typeof e=="object"&&!ee?oe(E):E}if(dn(e)){for(var P="<"+fr.call(String(e.nodeName)),m=e.attributes||[],x=0;x<m.length;x++)P+=" "+m[x].name+"="+$r(Vt(m[x].value),"double",a);return P+=">",e.childNodes&&e.childNodes.length&&(P+="..."),P+="</"+fr.call(String(e.nodeName))+">",P}if(je(e)){if(e.length===0)return"[]";var O=ue(e,p);return u&&!vn(O)?"["+Ge(O,u)+"]":"[ "+N.call(O,", ")+" ]"}if(rn(e)){var w=ue(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!Rr.call(e,"cause")?"{ ["+String(e)+"] "+N.call(ur.call("[cause]: "+p(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+N.call(w,", ")+" }"}if(typeof e=="object"&&i){if(vr&&typeof e[vr]=="function"&&We)return We(e,{depth:f-t});if(i!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(sn(e)){var A=[];return lr&&lr.call(e,function(T,H){A.push(p(H,e,!0)+" => "+p(T,e))}),gr("Map",we.call(e),A,u)}if(pn(e)){var y=[];return cr&&cr.call(e,function(T){y.push(p(T,e))}),gr("Set",Ae.call(e),y,u)}if(fn(e))return ke("WeakMap");if(yn(e))return ke("WeakSet");if(un(e))return ke("WeakRef");if(nn(e))return oe(p(Number(e)));if(an(e))return oe(p(Le.call(e)));if(on(e))return oe(Ht.call(e));if(tn(e))return oe(p(String(e)));if(!en(e)&&!mr(e)){var v=ue(e,p),h=yr?yr(e)===Object.prototype:e instanceof Object||e.constructor===Object,G=e instanceof Object?"":"null prototype",q=!h&&$&&Object(e)===e&&$ in e?Je.call(L(e),8,-1):G?"Object":"",ne=h||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",k=ne+(q||G?"["+N.call(ur.call([],q||[],G||[]),": ")+"] ":"");return v.length===0?k+"{}":u?k+"{"+Ge(v,u)+"}":k+"{ "+N.call(v,", ")+" }"}return String(e)};function $r(r,e,n){var t=(n.quoteStyle||e)==="double"?'"':"'";return t+r+t}function Vt(r){return U.call(String(r),/"/g,"&quot;")}function je(r){return L(r)==="[object Array]"&&(!$||!(typeof r=="object"&&$ in r))}function en(r){return L(r)==="[object Date]"&&(!$||!(typeof r=="object"&&$ in r))}function mr(r){return L(r)==="[object RegExp]"&&(!$||!(typeof r=="object"&&$ in r))}function rn(r){return L(r)==="[object Error]"&&(!$||!(typeof r=="object"&&$ in r))}function tn(r){return L(r)==="[object String]"&&(!$||!(typeof r=="object"&&$ in r))}function nn(r){return L(r)==="[object Number]"&&(!$||!(typeof r=="object"&&$ in r))}function on(r){return L(r)==="[object Boolean]"&&(!$||!(typeof r=="object"&&$ in r))}function kr(r){if(ee)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!ze)return!1;try{return ze.call(r),!0}catch{}return!1}function an(r){if(!r||typeof r!="object"||!Le)return!1;try{return Le.call(r),!0}catch{}return!1}var ln=Object.prototype.hasOwnProperty||function(r){return r in this};function C(r,e){return ln.call(r,e)}function L(r){return Qt.call(r)}function cn(r){if(r.name)return r.name;var e=Kt.call(Yt.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function _r(r,e){if(r.indexOf)return r.indexOf(e);for(var n=0,t=r.length;n<t;n++)if(r[n]===e)return n;return-1}function sn(r){if(!we||!r||typeof r!="object")return!1;try{we.call(r);try{Ae.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function fn(r){if(!ae||!r||typeof r!="object")return!1;try{ae.call(r,ae);try{ie.call(r,ie)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function un(r){if(!sr||!r||typeof r!="object")return!1;try{return sr.call(r),!0}catch{}return!1}function pn(r){if(!Ae||!r||typeof r!="object")return!1;try{Ae.call(r);try{we.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function yn(r){if(!ie||!r||typeof r!="object")return!1;try{ie.call(r,ie);try{ae.call(r,ae)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function dn(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Nr(r,e){if(r.length>e.maxStringLength){var n=r.length-e.maxStringLength,t="... "+n+" more character"+(n>1?"s":"");return Nr(Je.call(r,0,e.maxStringLength),e)+t}var o=U.call(U.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,hn);return $r(o,"single",e)}function hn(r){var e=r.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Xt.call(e.toString(16))}function oe(r){return"Object("+r+")"}function ke(r){return r+" { ? }"}function gr(r,e,n,t){var o=t?Ge(n,t):N.call(n,", ");return r+" ("+e+") {"+o+"}"}function vn(r){for(var e=0;e<r.length;e++)if(_r(r[e],`
`)>=0)return!1;return!0}function mn(r,e){var n;if(r.indent==="	")n="	";else if(typeof r.indent=="number"&&r.indent>0)n=N.call(Array(r.indent+1)," ");else return null;return{base:n,prev:N.call(Array(e+1),n)}}function Ge(r,e){if(r.length===0)return"";var n=`
`+e.prev+e.base;return n+N.call(r,","+n)+`
`+e.prev}function ue(r,e){var n=je(r),t=[];if(n){t.length=r.length;for(var o=0;o<r.length;o++)t[o]=C(r,o)?e(r[o],r):""}var a=typeof $e=="function"?$e(r):[],i;if(ee){i={};for(var c=0;c<a.length;c++)i["$"+a[c]]=a[c]}for(var l in r)C(r,l)&&(n&&String(Number(l))===l&&l<r.length||ee&&i["$"+l]instanceof Symbol||(Ir.call(/[^\w$]/,l)?t.push(e(l,r)+": "+e(r[l],r)):t.push(l+": "+e(r[l],r))));if(typeof $e=="function")for(var s=0;s<a.length;s++)Rr.call(r,a[s])&&t.push("["+e(a[s])+"]: "+e(r[a[s]],r));return t}var Ze=Ye,te=Ut,gn=Zt,bn=Ze("%TypeError%"),pe=Ze("%WeakMap%",!0),ye=Ze("%Map%",!0),Sn=te("WeakMap.prototype.get",!0),wn=te("WeakMap.prototype.set",!0),An=te("WeakMap.prototype.has",!0),On=te("Map.prototype.get",!0),xn=te("Map.prototype.set",!0),En=te("Map.prototype.has",!0),Ve=function(r,e){for(var n=r,t;(t=n.next)!==null;n=t)if(t.key===e)return n.next=t.next,t.next=r.next,r.next=t,t},Pn=function(r,e){var n=Ve(r,e);return n&&n.value},Mn=function(r,e,n){var t=Ve(r,e);t?t.value=n:r.next={key:e,next:r.next,value:n}},Fn=function(r,e){return!!Ve(r,e)},In=function(){var e,n,t,o={assert:function(a){if(!o.has(a))throw new bn("Side channel does not contain "+gn(a))},get:function(a){if(pe&&a&&(typeof a=="object"||typeof a=="function")){if(e)return Sn(e,a)}else if(ye){if(n)return On(n,a)}else if(t)return Pn(t,a)},has:function(a){if(pe&&a&&(typeof a=="object"||typeof a=="function")){if(e)return An(e,a)}else if(ye){if(n)return En(n,a)}else if(t)return Fn(t,a);return!1},set:function(a,i){pe&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new pe),wn(e,a,i)):ye?(n||(n=new ye),xn(n,a,i)):(t||(t={key:{},next:null}),Mn(t,a,i))}};return o},Rn=String.prototype.replace,$n=/%20/g,_e={RFC1738:"RFC1738",RFC3986:"RFC3986"},er={default:_e.RFC3986,formatters:{RFC1738:function(r){return Rn.call(r,$n,"+")},RFC3986:function(r){return String(r)}},RFC1738:_e.RFC1738,RFC3986:_e.RFC3986},kn=er,Ne=Object.prototype.hasOwnProperty,z=Array.isArray,_=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),_n=function(e){for(;e.length>1;){var n=e.pop(),t=n.obj[n.prop];if(z(t)){for(var o=[],a=0;a<t.length;++a)typeof t[a]<"u"&&o.push(t[a]);n.obj[n.prop]=o}}},Tr=function(e,n){for(var t=n&&n.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]<"u"&&(t[o]=e[o]);return t},Nn=function r(e,n,t){if(!n)return e;if(typeof n!="object"){if(z(e))e.push(n);else if(e&&typeof e=="object")(t&&(t.plainObjects||t.allowPrototypes)||!Ne.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var o=e;return z(e)&&!z(n)&&(o=Tr(e,t)),z(e)&&z(n)?(n.forEach(function(a,i){if(Ne.call(e,i)){var c=e[i];c&&typeof c=="object"&&a&&typeof a=="object"?e[i]=r(c,a,t):e.push(a)}else e[i]=a}),e):Object.keys(n).reduce(function(a,i){var c=n[i];return Ne.call(a,i)?a[i]=r(a[i],c,t):a[i]=c,a},o)},Tn=function(e,n){return Object.keys(n).reduce(function(t,o){return t[o]=n[o],t},e)},Dn=function(r,e,n){var t=r.replace(/\+/g," ");if(n==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},Bn=function(e,n,t,o,a){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),t==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var c="",l=0;l<i.length;++l){var s=i.charCodeAt(l);if(s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||a===kn.RFC1738&&(s===40||s===41)){c+=i.charAt(l);continue}if(s<128){c=c+_[s];continue}if(s<2048){c=c+(_[192|s>>6]+_[128|s&63]);continue}if(s<55296||s>=57344){c=c+(_[224|s>>12]+_[128|s>>6&63]+_[128|s&63]);continue}l+=1,s=65536+((s&1023)<<10|i.charCodeAt(l)&1023),c+=_[240|s>>18]+_[128|s>>12&63]+_[128|s>>6&63]+_[128|s&63]}return c},Cn=function(e){for(var n=[{obj:{o:e},prop:"o"}],t=[],o=0;o<n.length;++o)for(var a=n[o],i=a.obj[a.prop],c=Object.keys(i),l=0;l<c.length;++l){var s=c[l],f=i[s];typeof f=="object"&&f!==null&&t.indexOf(f)===-1&&(n.push({obj:i,prop:s}),t.push(f))}return _n(n),e},Un=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ln=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},zn=function(e,n){return[].concat(e,n)},Wn=function(e,n){if(z(e)){for(var t=[],o=0;o<e.length;o+=1)t.push(n(e[o]));return t}return n(e)},Dr={arrayToObject:Tr,assign:Tn,combine:zn,compact:Cn,decode:Dn,encode:Bn,isBuffer:Ln,isRegExp:Un,maybeMap:Wn,merge:Nn},Br=In,ve=Dr,le=er,jn=Object.prototype.hasOwnProperty,br={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},B=Array.isArray,Gn=Array.prototype.push,Cr=function(r,e){Gn.apply(r,B(e)?e:[e])},qn=Date.prototype.toISOString,Sr=le.default,R={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ve.encode,encodeValuesOnly:!1,format:Sr,formatter:le.formatters[Sr],indices:!1,serializeDate:function(e){return qn.call(e)},skipNulls:!1,strictNullHandling:!1},Hn=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Te={},Qn=function r(e,n,t,o,a,i,c,l,s,f,u,p,g,b,E,P){for(var m=e,x=P,O=0,w=!1;(x=x.get(Te))!==void 0&&!w;){var A=x.get(e);if(O+=1,typeof A<"u"){if(A===O)throw new RangeError("Cyclic object value");w=!0}typeof x.get(Te)>"u"&&(O=0)}if(typeof l=="function"?m=l(n,m):m instanceof Date?m=u(m):t==="comma"&&B(m)&&(m=ve.maybeMap(m,function(Q){return Q instanceof Date?u(Q):Q})),m===null){if(a)return c&&!b?c(n,R.encoder,E,"key",p):n;m=""}if(Hn(m)||ve.isBuffer(m)){if(c){var y=b?n:c(n,R.encoder,E,"key",p);return[g(y)+"="+g(c(m,R.encoder,E,"value",p))]}return[g(n)+"="+g(String(m))]}var v=[];if(typeof m>"u")return v;var h;if(t==="comma"&&B(m))b&&c&&(m=ve.maybeMap(m,c)),h=[{value:m.length>0?m.join(",")||null:void 0}];else if(B(l))h=l;else{var G=Object.keys(m);h=s?G.sort(s):G}for(var q=o&&B(m)&&m.length===1?n+"[]":n,ne=0;ne<h.length;++ne){var k=h[ne],T=typeof k=="object"&&typeof k.value<"u"?k.value:m[k];if(!(i&&T===null)){var H=B(m)?typeof t=="function"?t(q,k):q:q+(f?"."+k:"["+k+"]");P.set(e,O);var fe=Br();fe.set(Te,P),Cr(v,r(T,H,t,o,a,i,t==="comma"&&b&&B(m)?null:c,l,s,f,u,p,g,b,E,fe))}}return v},Yn=function(e){if(!e)return R;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||R.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=le.default;if(typeof e.format<"u"){if(!jn.call(le.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var o=le.formatters[t],a=R.filter;return(typeof e.filter=="function"||B(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:R.addQueryPrefix,allowDots:typeof e.allowDots>"u"?R.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:R.charsetSentinel,delimiter:typeof e.delimiter>"u"?R.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:R.encode,encoder:typeof e.encoder=="function"?e.encoder:R.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:R.encodeValuesOnly,filter:a,format:t,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:R.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:R.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:R.strictNullHandling}},Kn=function(r,e){var n=r,t=Yn(e),o,a;typeof t.filter=="function"?(a=t.filter,n=a("",n)):B(t.filter)&&(a=t.filter,o=a);var i=[];if(typeof n!="object"||n===null)return"";var c;e&&e.arrayFormat in br?c=e.arrayFormat:e&&"indices"in e?c=e.indices?"indices":"repeat":c="indices";var l=br[c];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=l==="comma"&&e&&e.commaRoundTrip;o||(o=Object.keys(n)),t.sort&&o.sort(t.sort);for(var f=Br(),u=0;u<o.length;++u){var p=o[u];t.skipNulls&&n[p]===null||Cr(i,Qn(n[p],p,l,s,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset,f))}var g=i.join(t.delimiter),b=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""},re=Dr,qe=Object.prototype.hasOwnProperty,Xn=Array.isArray,M={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:re.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Jn=function(r){return r.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Ur=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},Zn="utf8=%26%2310003%3B",Vn="utf8=%E2%9C%93",eo=function(e,n){var t={__proto__:null},o=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=n.parameterLimit===1/0?void 0:n.parameterLimit,i=o.split(n.delimiter,a),c=-1,l,s=n.charset;if(n.charsetSentinel)for(l=0;l<i.length;++l)i[l].indexOf("utf8=")===0&&(i[l]===Vn?s="utf-8":i[l]===Zn&&(s="iso-8859-1"),c=l,l=i.length);for(l=0;l<i.length;++l)if(l!==c){var f=i[l],u=f.indexOf("]="),p=u===-1?f.indexOf("="):u+1,g,b;p===-1?(g=n.decoder(f,M.decoder,s,"key"),b=n.strictNullHandling?null:""):(g=n.decoder(f.slice(0,p),M.decoder,s,"key"),b=re.maybeMap(Ur(f.slice(p+1),n),function(E){return n.decoder(E,M.decoder,s,"value")})),b&&n.interpretNumericEntities&&s==="iso-8859-1"&&(b=Jn(b)),f.indexOf("[]=")>-1&&(b=Xn(b)?[b]:b),qe.call(t,g)?t[g]=re.combine(t[g],b):t[g]=b}return t},ro=function(r,e,n,t){for(var o=t?e:Ur(e,n),a=r.length-1;a>=0;--a){var i,c=r[a];if(c==="[]"&&n.parseArrays)i=[].concat(o);else{i=n.plainObjects?Object.create(null):{};var l=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,s=parseInt(l,10);!n.parseArrays&&l===""?i={0:o}:!isNaN(s)&&c!==l&&String(s)===l&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(i=[],i[s]=o):l!=="__proto__"&&(i[l]=o)}o=i}return o},to=function(e,n,t,o){if(e){var a=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,l=t.depth>0&&i.exec(a),s=l?a.slice(0,l.index):a,f=[];if(s){if(!t.plainObjects&&qe.call(Object.prototype,s)&&!t.allowPrototypes)return;f.push(s)}for(var u=0;t.depth>0&&(l=c.exec(a))!==null&&u<t.depth;){if(u+=1,!t.plainObjects&&qe.call(Object.prototype,l[1].slice(1,-1))&&!t.allowPrototypes)return;f.push(l[1])}return l&&f.push("["+a.slice(l.index)+"]"),ro(f,n,t,o)}},no=function(e){if(!e)return M;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?M.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?M.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:M.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:M.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:M.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:M.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:M.comma,decoder:typeof e.decoder=="function"?e.decoder:M.decoder,delimiter:typeof e.delimiter=="string"||re.isRegExp(e.delimiter)?e.delimiter:M.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:M.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:M.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:M.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:M.strictNullHandling}},oo=function(r,e){var n=no(e);if(r===""||r===null||typeof r>"u")return n.plainObjects?Object.create(null):{};for(var t=typeof r=="string"?eo(r,n):r,o=n.plainObjects?Object.create(null):{},a=Object.keys(t),i=0;i<a.length;++i){var c=a[i],l=to(c,t[c],n,typeof r=="string");o=re.merge(o,l,n)}return n.allowSparse===!0?o:re.compact(o)},ao=Kn,io=oo,lo=er,Lr={formats:lo,parse:io,stringify:ao};const zr="",Wr=!0,wr=2,co=["species","uniforms","particleColor","fieldColor","renderFieldBlend","renderParticlesBlend","mouseRadius","mouseStrength","initialParticlesXY","type","particleSize","particleCount","bgColor","senseDist","senseAng","moveAng","moveDist","dt","friction","rMax","beta","forceFactor","bgLength","numSpecies","blendMode"],so=["i","j","l","f","t","I","r","c","k","s","v","x","y","z","J","a","b","d","e","g","h","n","o","p","q","u","L","F","T","Z"],jr=Object.fromEntries(co.map((r,e)=>[r,so[e]])),fo=Object.fromEntries(Object.entries(jr).map(([r,e])=>[e,r])),uo=(r,e=jr)=>(r.split("[").map(t=>t.replace("]","")).filter(t=>isNaN(t)).forEach(t=>{r=r.replaceAll(t,e[t]||t)}),r=r.split("[").map(t=>t.replace("]","")).join(zr),r),po=(r,e=fo)=>(r=r.split(zr).map(t=>isNaN(t)&&e[t]||t).map((t,o)=>o===0?t:`[${t}]`).join(""),r),yo=r=>{const e=new URL(window.location.href),n=Lr.stringify(r,{encoder:(t,o,a,i)=>o(i==="key"&&Wr?uo(t):typeof t=="number"?Math.round(t*Math.pow(10,wr))/Math.pow(10,wr):t,o,a,i)});e.search=Er.compressToEncodedURIComponent(n),setTimeout(()=>console.log("URL PARAM LENGTH",e.search.length),100),window.history.replaceState({},"",e)},ho=()=>{const r=new URL(window.location.href);return Lr.parse(Er.decompressFromEncodedURIComponent(r.search.split("?")[1]),{ignoreQueryPrefix:!0,decoder:(n,t,o,a)=>{const i=t(n,t,o,a),c=Number(i);return a==="key"&&Wr?po(i):Number.isNaN(c)?i:c}})},Ee=class extends Xr{constructor(e){super({particleCount:50,particleSize:5,renderField:de`mix(vec4(0.), fieldColor, length(field(UV))/2.)`,readOtherParticles:!0,initialParticlesZW:D.RANDOM_UNIT,updateParticles:()=>de`
  FOut = Src(I); // current particle
  #define wrap(p) (fract(p+0.5)-0.5)
  vec2 force=vec2(0.); // initialize force vector to 0
  ${Ee.instances.map((n,t)=>de`// Looping through all particles to compute forces
  for (int y=0; y<particles_${n.name}_size().y; ++y)
  for (int x=0; x<particles_${n.name}_size().x; ++x) {
    if (x==I.x && y==I.y) continue; // Skip self
    vec2 data1 = particles_${n.name}(ivec2(x,y)).xy/(min(worldSize.x,worldSize.y)); // particle to compare with
    vec2 dpos = wrap(data1-(FOut.xy/(min(worldSize.x,worldSize.y)))); // distance vector between particles
    float r = length(dpos); // length of distance vector
    if (r>0.&&r<rMax) {
      float f = 0.;
      if (r<beta) f = r/beta-1.;
      else if (beta<r&&r<1.) f = F[${Math.min(Math.round(t),3)}]*(1.-abs(2.*r-1.-beta)/(1.-beta));
      force += dpos/r*f; // add net force (attraction - repulsion) to the force vector
    }
  }`).join(`
`)}
  force *= rMax*forceFactor;

  FOut.zw *= friction;
  FOut.zw += force*dt;

  // Compute new velocity and position
  FOut.xy = FOut.xy+FOut.zw;
`,...e,uniforms:{dt:.01,friction:.94,rMax:.2,beta:.01,forceFactor:6,F:Array(4).fill().map(()=>Math.random()*2-1),...e.uniforms||{}}}),Ee.instances.push(this)}};let me=Ee;rr(me,"instances",[]);const Ar=Math.sqrt(3),Gr=[...ut.hsl.rgb(Yr([0,0,0],[360,10,100])).map(r=>r/255),1],He=Math.sqrt(Gr.slice(0,3).reduce((r,e)=>r+e*e,0)),Oe=K(3,8),qr=He<Ar/3?he.ADD:He<2*Ar/3?he.PREMULTIPLIED:he.SUBTRACT,De={life:()=>({type:"life",uniforms:{dt:I(.005,.02),friction:I(.7,.99),rMax:I(.05,.5),beta:I(.01,.1),forceFactor:I(.5,8)},particleSize:I(1,5),particleCount:K(100,1400)}),physarum:()=>({type:"physarum",uniforms:{senseDist:I(1,70),senseAng:I(-8,80),moveAng:I(20,170),moveDist:I(1,30)},particleSize:I(.1,1),particleCount:K(5e3,8e4)}),shared:()=>({particleColor:tr(4,0,1/Oe),fieldColor:tr(4,0,1/Oe),renderFieldBlend:qr,renderParticlesBlend:he.ADD,mouseRadius:I(0,.5),mouseStrength:I(-.5,.5),initialParticlesXY:Kr([D.SIN(I(0,1),I(0,.5)),D.CIRCLE(I(0,1)),D.RANDOM_WORLD,D.DOT_GRID(K(2,20)),D.VERTICLE_LINE,D.HORIZONTAL_LINE,D.VERTICLE_LINES(K(2,20)),D.HORIZONTAL_LINES(K(2,20))])})},xe={bgColor:Gr,bgLength:He,numSpecies:Oe,blendMode:qr,species:Array(Oe).fill().map(()=>({...De.shared(),...I()>.5?De.life():De.physarum()})),...ho()};yo(xe);Jr(xe.bgColor.join(","));xe.species.forEach(r=>r.type==="life"?new me({...r,renderParticles:de`
    vec2 velocity = particle.zw;
    float angle = atan(velocity.x, velocity.y);
    vec2 XYS = XY;
    XYS = vec2(cos(angle)*XYS.x-sin(angle)*XYS.y, sin(angle)*XYS.x+cos(angle)*XYS.y);          
    XYS *= vec2(1.+length(particle.zw)*5.,1.);
    FOut = mix(vec4(0.), particleColor, smoothstep(1.0, 0.2, length(XYS)));
    `}):new Zr({...xe.sharedProps,...r}));
